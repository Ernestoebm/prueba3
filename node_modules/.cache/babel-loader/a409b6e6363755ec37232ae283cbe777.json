{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\netob\\\\OneDrive\\\\Escritorio\\\\proj\\\\src\\\\Pages\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport useAxios from \"axios-hooks\";\nimport Form from \"../Components/Form\";\nimport { useAuth } from \"../Hooks/useAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Create = () => {\n  _s();\n\n  var _auth$user;\n\n  const auth = useAuth();\n  const items = [{\n    type: 'text',\n    name: 'Titulo',\n    id: 'title',\n    placeholder: 'Mi post'\n  }, {\n    type: 'text',\n    name: 'Descripcion',\n    id: 'description',\n    placeholder: 'La descripcion de mi primer post'\n  }, {\n    type: 'text',\n    name: 'Imagen',\n    id: 'image',\n    placeholder: 'Url de tu imagen'\n  }];\n  const [, createPost] = useAxios({\n    url: `${process.env.REACT_APP_API}/post/create`,\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${auth === null || auth === void 0 ? void 0 : (_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.token}`\n    }\n  }, {\n    manual: true\n  });\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      const formData = new FormData(e.target);\n      const validate = Array.from(formData.values());\n\n      if (validate.some(it => it === \"\")) {\n        alert('Llena los campos necesarios');\n        return;\n      }\n\n      const body = Object.fromEntries(formData.entries());\n      await createPost({\n        data: body\n      });\n      alert('Post creado');\n    } catch (err) {\n      alert('error');\n      console.log(err.response);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"-mt-10 w-screen h-screen px-10 flex flex-col items-center justify-center space-y-10 max-w-screen-sm mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      items: items,\n      submitText: \"Crear\",\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Create, \"VkZ0pCEBFEVAj4uTaudpplvrG4M=\", false, function () {\n  return [useAuth, useAxios];\n});\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/netob/OneDrive/Escritorio/proj/src/Pages/Create.js"],"names":["useAxios","Form","useAuth","Create","auth","items","type","name","id","placeholder","createPost","url","process","env","REACT_APP_API","method","headers","Authorization","user","token","manual","handleSubmit","e","preventDefault","formData","FormData","target","validate","Array","from","values","some","it","alert","body","Object","fromEntries","entries","data","err","console","log","response"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,aAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,OAAT,QAAwB,kBAAxB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAAA;;AACjB,QAAMC,IAAI,GAAGF,OAAO,EAApB;AAEA,QAAMG,KAAK,GAAG,CACV;AAAEC,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,IAAI,EAAE,QAAtB;AAAgCC,IAAAA,EAAE,EAAE,OAApC;AAA6CC,IAAAA,WAAW,EAAE;AAA1D,GADU,EAEhB;AAAEH,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,IAAI,EAAE,aAAtB;AAAqCC,IAAAA,EAAE,EAAE,aAAzC;AAAwDC,IAAAA,WAAW,EAAE;AAArE,GAFgB,EAGV;AAAEH,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,IAAI,EAAE,QAAtB;AAAgCC,IAAAA,EAAE,EAAE,OAApC;AAA6CC,IAAAA,WAAW,EAAE;AAA1D,GAHU,CAAd;AAMA,QAAM,GAAGC,UAAH,IAAiBV,QAAQ,CAAC;AAC5BW,IAAAA,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,aAAc,cADN;AAE5BC,IAAAA,MAAM,EAAE,MAFoB;AAG5BC,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAG,UAASb,IAAV,aAAUA,IAAV,qCAAUA,IAAI,CAAEc,IAAhB,+CAAU,WAAYC,KAAM;AADtC;AAHmB,GAAD,EAM5B;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAN4B,CAA/B;;AAQA,iBAAeC,YAAf,CAA4BC,CAA5B,EAA+B;AAC3BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaH,CAAC,CAACI,MAAf,CAAjB;AACA,YAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAN,CAAWL,QAAQ,CAACM,MAAT,EAAX,CAAjB;;AAEA,UAAIH,QAAQ,CAACI,IAAT,CAAcC,EAAE,IAAIA,EAAE,KAAK,EAA3B,CAAJ,EAAoC;AAChCC,QAAAA,KAAK,CAAC,6BAAD,CAAL;AACA;AACH;;AAED,YAAMC,IAAI,GAAGC,MAAM,CAACC,WAAP,CAAmBZ,QAAQ,CAACa,OAAT,EAAnB,CAAb;AAEA,YAAM3B,UAAU,CAAC;AAAE4B,QAAAA,IAAI,EAAEJ;AAAR,OAAD,CAAhB;AAEAD,MAAAA,KAAK,CAAC,aAAD,CAAL;AACH,KAdD,CAcE,OAAMM,GAAN,EAAW;AACTN,MAAAA,KAAK,CAAC,OAAD,CAAL;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAhB;AACH;AACJ;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,6GAAf;AAAA,2BACI,QAAC,IAAD;AAAM,MAAA,KAAK,EAAErC,KAAb;AAAoB,MAAA,UAAU,EAAE,OAAhC;AAAyC,MAAA,YAAY,EAAEgB;AAAvD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA7CD;;GAAMlB,M;UACWD,O,EAQUF,Q;;;KATrBG,M;AA+CN,eAAeA,MAAf","sourcesContent":["import useAxios from \"axios-hooks\";\nimport Form from \"../Components/Form\";\nimport { useAuth } from \"../Hooks/useAuth\";\n\nconst Create = () => {\n    const auth = useAuth();\n\n    const items = [\n        { type: 'text', name: 'Titulo', id: 'title', placeholder: 'Mi post' },\n\t\t{ type: 'text', name: 'Descripcion', id: 'description', placeholder: 'La descripcion de mi primer post' },\n        { type: 'text', name: 'Imagen', id: 'image', placeholder: 'Url de tu imagen' },\n    ]\n\n    const [, createPost] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/create`,\n        method: 'POST',\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true })\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n\n        try {\n            const formData = new FormData(e.target);\n            const validate = Array.from(formData.values());\n\n            if (validate.some(it => it === \"\")) {\n                alert('Llena los campos necesarios');\n                return;\n            }\n\n            const body = Object.fromEntries(formData.entries());\n\n            await createPost({ data: body })\n\n            alert('Post creado');\n        } catch(err) {\n            alert('error');\n            console.log(err.response);\n        }\n    }\n    \n    return (\n        <div className=\"-mt-10 w-screen h-screen px-10 flex flex-col items-center justify-center space-y-10 max-w-screen-sm mx-auto\">\n            <Form items={items} submitText={\"Crear\"} handleSubmit={handleSubmit} />\n        </div>\n    )\n}\n\nexport default Create;\n"]},"metadata":{},"sourceType":"module"}